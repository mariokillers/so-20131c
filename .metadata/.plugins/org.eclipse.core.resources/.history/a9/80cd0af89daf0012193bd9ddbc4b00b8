/*
 * Main.c
 *
 *  Created on: 27/04/2013
 *      Author: utnso
 */
#include "Proceso Cliente.h"

int main(void){
	char Server[20];
	char* msg ="Hola como te va?";
	int sockfd;
	int numbytes=0;
	char buf[128];
	void *mipuntero;
	mipuntero=msg;
	//strcpy(Server,"localhost");
	printf("Ingrese IP del host\n");
	scanf("%s",Server);
	sockfd = connectServer(Server, 5000);
	printf("Listo para mandar\n");
	mandarMensaje(sockfd,'a', atoi("20") ,mipuntero);
	printf("Mensaje enviado\n");

	//ESPERO RESPUESTA nombre /home/utnso/Escritorio/tp-20131c-mario-killers/src/Proceso Server/Main.c.

	if ((numbytes=recv(sockfd, buf, sizeof(buf)-1, 0)) == -1) {
	perror("recv");
	exit(1);
	}

	//MUESTRO RESPUESTA
	buf[numbytes] = '\0';
	printf("Received: %s \n",buf);

	//CIERRO CONEXION
	close(sockfd);
	return 0;

}

