
#include "Proceso_Plataforma.h"


t_queue* queue_listos = queue_create();
t_queue* queue_florbloq = queue_create();
t_queue* queue_hongobloq = queue_create();
t_queue* queue_monedabloq = queue_create();
t_list* niveles = list_create();
t_list* planificadores = list_create();

int main (){



	return 0;
}

Elemento_personaje* personaje_crear(char* nombre) {
	Elemento_personaje* personaje = malloc(sizeof(Elemento_personaje));
	strncpy(personaje->nombre, nombre, 24);
	return personaje;
}



void initPanif(int numero_nivel){

	numero_nivel+=5500;
	initServer("localhost",numero_nivel);



}



void initOrq(void){

	initServer("localhost",5000);


}

void orq (void){
	char estado Planificador Nivel 2

	Mensaje* miMensaje;
	t_queue* queue_mensajes = queue_create();

	while (1){
		switch (estado){
			case STANDBY:
				if(mensajes(queue_mensajes)){
					miMensaje = queue_pop(queue_mensajes);
					switch(miMensaje->type){
						case HANDSHAKE:
							//CONEXION DE NIVEL
							if (miMensaje->data[0]=='N'){
								//CREO LA INSTANCIA NIVEL, COPIO LOS PARAMETROS, Y LA AGREGO A LA LISTA
								Nivel miNivel;
								miNivel->FD =
								strcpy(miNivel->ID, ((Nivel*) miMensaje->data)->ID);
								strcpy(miNivel->IP, ((Nivel*) miMensaje->data)->IP);
								miNivel->PORT= ((Nivel*) miMensaje->data)->PORT;
								list_add(miNivel);
								//CREO LA INSTANCIA PLANIFICADOR CORRESPONDIENTE A ESE NIVEL
								Planificador miPlanificador;
								//Asigno ID="PX"
								strcpy(miPlanificador.ID,((Nivel*) miMensaje->data)->ID);
								miPlanificador.ID[0]='P';
								//CREO EL THREAD, EL PARAMETRO ES EL NUMERO DE NIVEL
								initPlanif(miPlanificador.ID[1]);

							}


					}
				}
			break;



		}
	}
}
